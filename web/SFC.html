<!DOCTYPE html>
<!-- saved from url=(0129)https://wiki.opendaylight.org/view/OpenDaylight_Virtual_Tenant_Network_(VTN):How_to_Configure_Service_Function_Chaining_using_VTN -->
<html lang="en" dir="ltr" class="client-js"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script async="" src="./SFC_files/load.php"></script>
<meta charset="UTF-8">
<title>OpenDaylight Virtual Tenant Network (VTN):How to Configure Service Function Chaining using VTN - OpenDaylight Project</title>
<meta http-equiv="X-UA-Compatible" content="IE=EDGE">
<meta name="generator" content="MediaWiki 1.23.11">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="https://wiki.opendaylight.org/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="https://wiki.opendaylight.org/opensearch_desc.php" title="OpenDaylight Project (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.opendaylight.org/api.php?action=rsd">
<link rel="alternate" type="application/atom+xml" title="OpenDaylight Project Atom feed" href="https://wiki.opendaylight.org/index.php?title=Special:RecentChanges&amp;feed=atom">
<link rel="stylesheet" href="./SFC_files/load(1).php">
<link rel="stylesheet" href="./SFC_files/bootstrap.css" media="screen">
<link rel="stylesheet" href="./SFC_files/font-awesome.css" media="screen">
<link rel="stylesheet" href="./SFC_files/screen.css" media="screen">
<link rel="stylesheet" href="./SFC_files/theme.css" media="screen"><style>
.mw-collapsible-toggle{float:right;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none} caption .mw-collapsible-toggle{float:none} li .mw-collapsible-toggle{float:none} .mw-collapsible-toggle-li{list-style:none}
/* cache key: daylight_mwiki:resourceloader:filter:minify-css:7:6c1d24e90626cec584f0869483f983e7 */
.suggestions{overflow:hidden;position:absolute;top:0;left:0;width:0;border:none;z-index:1099;padding:0;margin:-1px -1px 0 0} html > body .suggestions{margin:-1px 0 0 0}.suggestions-special{position:relative;background-color:white;cursor:pointer;border:solid 1px #aaaaaa;padding:0;margin:0;margin-top:-2px;display:none;padding:0.25em 0.25em;line-height:1.25em}.suggestions-results{background-color:white;cursor:pointer;border:solid 1px #aaaaaa;padding:0;margin:0}.suggestions-result{color:black;margin:0;line-height:1.5em;padding:0.01em 0.25em;text-align:left; overflow:hidden;-o-text-overflow:ellipsis; text-overflow:ellipsis;white-space:nowrap}.suggestions-result-current{background-color:#4C59A6;color:white}.suggestions-special .special-label{color:gray;text-align:left}.suggestions-special .special-query{color:black;font-style:italic;text-align:left}.suggestions-special .special-hover{background-color:silver}.suggestions-result-current .special-label,.suggestions-result-current .special-query{color:white}.highlight{font-weight:bold}
/* cache key: daylight_mwiki:resourceloader:filter:minify-css:7:9f9511aa4ef920d34591113e825e6a1e */
.postedit-container{margin:0 auto;position:fixed;top:0;height:0;left:50%;z-index:1000;font-size:13px}.postedit-container:hover{cursor:pointer}.postedit{position:relative;top:0.6em;left:-50%;padding:.6em 3.6em .6em 1.1em;line-height:1.5625em;color:#626465;background-color:#f4f4f4;border:1px solid #dcd9d9;text-shadow:0 0.0625em 0 rgba(255,255,255,0.5);border-radius:5px;-webkit-box-shadow:0 2px 5px 0 #ccc;box-shadow:0 2px 5px 0 #ccc;-webkit-transition:all 0.25s ease-in-out;-moz-transition:all 0.25s ease-in-out;-ms-transition:all 0.25s ease-in-out;-o-transition:all 0.25s ease-in-out;transition:all 0.25s ease-in-out}.skin-monobook .postedit{top:6em !important}.postedit-faded{opacity:0}.postedit-icon{padding-left:41px;  line-height:25px;background-repeat:no-repeat;background-position:8px 50%}.postedit-icon-checkmark{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABblBMVEUAAAD///////9PfTf///80aRdTgjn///9Feij///////////9Rfzf///////////9PfjZRgDh1o1xOfTb///////+bwYqLtnj///////9PfTa82K////9WhT6YxIL///9QgDdTgzr////////j7uDl7eLq8efi693k7OH///////9UhjuBr2rp9uRUhjr///9YljVKgir///9WiTlYjT3////9/v57vFlbkT5PjC9dlD/5/fhuq09stUTs9uhxuElctCpfnT1huDFloEZloUZmpENmvDZpvDxpvTxqvjxrvT5rvT9rwTxsqktswD5uwkBvuUdxw0NztFBztU9ztVBzwkp0tlJ1xkd2t1R3uVR4w1F4xk54x014yE15uVZ5v1R5xVB6v1R7yFJ8wVh9xVl9yFR9yVd9ylN+xVh+yFd/x1l/yFeAylmEx1+Ny2uY0Hqe04Wj1Ymv3Ze33qLD47TJ5L3O6cPU7Mrq9eb2+/Q4j37OAAAAQHRSTlMAAQIEBAUFBQwPFB4fJCUoKiosQEhJS01RUlZZXmdydXaChYuSlJSWmJmoq6uur8LExcvM19fg5ejt8fX2+Pr7SljgewAAAKpJREFUGBkFwQNCAwAAAMDLtl3LtrG4rWXbtvX77gAgZ6grFwC0bhwNVgKgdPZx8b0dgLi+s7Wn0VoAqpfOI9+BNADZI7fLrz2pSEwGHZuH+78lSK8ZLkLezF3ooyUG3VPXq2USei9WngeyoG195yBYWDF3E/2pAhl1e9Gr8bGT+bfOFCC2fnvh4X7rcqIAQNNu+HT6sxkAjceTL/2ZAIhv+PorBwBJxfkA//dFHSCBy/UTAAAAAElFTkSuQmCC);background-image:url(/resources/src/mediawiki.action/images/green-checkmark.png?2014-06-20T03:06:40Z)!ie;background-position:left}.postedit-close{position:absolute;padding:0 .8em;right:0;top:0;font-size:1.25em;font-weight:bold;line-height:2.3em;color:black;text-shadow:0 0.0625em 0 white;text-decoration:none;opacity:0.2;filter:alpha(opacity=20)}.postedit-close:hover{color:black;text-decoration:none;opacity:0.4;filter:alpha(opacity=40)}
/* cache key: daylight_mwiki:resourceloader:filter:minify-css:7:c3071faf4737eb5eb3f19649dbc75b32 */</style><style>
.suggestions a.mw-searchSuggest-link,.suggestions a.mw-searchSuggest-link:hover,.suggestions a.mw-searchSuggest-link:active,.suggestions a.mw-searchSuggest-link:focus{color:black;text-decoration:none}.suggestions-result-current a.mw-searchSuggest-link,.suggestions-result-current a.mw-searchSuggest-link:hover,.suggestions-result-current a.mw-searchSuggest-link:active,.suggestions-result-current a.mw-searchSuggest-link:focus{color:white}.suggestions a.mw-searchSuggest-link .special-query{ overflow:hidden;-o-text-overflow:ellipsis; text-overflow:ellipsis;white-space:nowrap}
/* cache key: daylight_mwiki:resourceloader:filter:minify-css:7:ae3fa4570b5ac0c6cf7b3776c8ae4d6f */</style><meta name="ResourceLoaderDynamicStyles" content="">
<link rel="stylesheet" href="./SFC_files/load(2).php">
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: daylight_mwiki:resourceloader:filter:minify-css:7:ac68803e489cb69f3d4f35f145091fa4 */</style>
<script src="./SFC_files/load(3).php"></script><style type="text/css"></style><script src="./SFC_files/load(4).php"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"OpenDaylight_Virtual_Tenant_Network_(VTN):How_to_Configure_Service_Function_Chaining_using_VTN","wgTitle":"OpenDaylight Virtual Tenant Network (VTN):How to Configure Service Function Chaining using VTN","wgCurRevisionId":32112,"wgRevisionId":32112,"wgArticleId":2668,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["OpenDaylight Virtual Tenant Network"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"OpenDaylight_Virtual_Tenant_Network_(VTN):How_to_Configure_Service_Function_Chaining_using_VTN","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"preview":true,"previewDialog":false,"publish":true}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"editfont":"default","editondblclick":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":1,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nickname":"","norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rows":25,"showhiddencats":0,"shownumberswatching":1,"showtoolbar":1,"skin":"strapping","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":1,"watchdefault":1,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,
"useeditwarning":1,"prefershttps":1,"usebetatoolbar":1,"usebetatoolbar-cgd":1,"wikieditor-preview":1,"wikieditor-publish":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"searchNs180":false,"searchNs181":false,"searchNs274":false,"searchNs275":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});},{},{});
/* cache key: daylight_mwiki:resourceloader:filter:minify-js:7:3effddefe011671b34b541d0eba8aa98 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script><script src="./SFC_files/load(5).php"></script>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/strapping/csshover.min.htc")}</style><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-OpenDaylight_Virtual_Tenant_Network_VTN_How_to_Configure_Service_Function_Chaining_using_VTN skin-strapping action-view">

<div id="userbar" class="navbar navbar-static">
  <div class="navbar-inner">
    <div style="width: auto;" class="container">

      <div class="pull-left">
                          <ul class="nav logo-container" role="navigation"><li id="p-logo"><a href="https://wiki.opendaylight.org/view/Main_Page" title="Visit the main page"><img src="./SFC_files/logo1-30px.png" alt="OpenDaylight Project"></a></li><li></li></ul>

<!-- 0 -->
          <ul class="nav" role="navigation">
            <li class="dropdown" id="p-namespaces">
                            <a data-toggle="dropdown" class="dropdown-toggle brand" role="menu">Page <b class="caret"></b></a>
                                                                                                      <ul aria-labelledby="Namespaces" role="menu" class="dropdown-menu">

                <li id="ca-nstab-main" class="selected"><a href="https://wiki.opendaylight.org/view/OpenDaylight_Virtual_Tenant_Network_(VTN):How_to_Configure_Service_Function_Chaining_using_VTN" title="View the content page [ctrl-option-c]" accesskey="c" tabindex="-1">Page</a></li><li id="ca-talk" class="new"><a href="https://wiki.opendaylight.org/index.php?title=Talk:OpenDaylight_Virtual_Tenant_Network_(VTN):How_to_Configure_Service_Function_Chaining_using_VTN&amp;action=edit&amp;redlink=1" title="Discussion about the content page [ctrl-option-t]" accesskey="t" tabindex="-1">Discussion</a></li><li id="ca-viewsource"><a href="https://wiki.opendaylight.org/index.php?title=OpenDaylight_Virtual_Tenant_Network_(VTN):How_to_Configure_Service_Function_Chaining_using_VTN&amp;action=edit" title="This page is protected.
You can view its source [ctrl-option-e]" accesskey="e" tabindex="-1">View source</a></li><li id="ca-history" class="collapsible"><a href="https://wiki.opendaylight.org/index.php?title=OpenDaylight_Virtual_Tenant_Network_(VTN):How_to_Configure_Service_Function_Chaining_using_VTN&amp;action=history" title="Past revisions of this page [ctrl-option-h]" accesskey="h" tabindex="-1">History</a></li></ul></li></ul>
<!-- /0 -->

<!-- 0 -->

<!-- /0 -->

<!-- 0 -->

<!-- /0 -->

<!-- 0 -->
         
         
<!-- /LANGUAGES -->

<!-- 0 -->

          <ul class="nav" role="navigation">

            <li class="dropdown" id="p-toolbox">

              <a data-toggle="dropdown" class="dropdown-toggle" role="button">Tools <b class="caret"></b></a>

              <ul aria-labelledby="Tools" role="menu" class="dropdown-menu">

                <li id="t-info"><a href="https://wiki.opendaylight.org/index.php?title=OpenDaylight_Virtual_Tenant_Network_(VTN):How_to_Configure_Service_Function_Chaining_using_VTN&amp;action=info">Page information</a></li><li id="t-permalink"><a href="https://wiki.opendaylight.org/index.php?title=OpenDaylight_Virtual_Tenant_Network_(VTN):How_to_Configure_Service_Function_Chaining_using_VTN&amp;oldid=32112" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-print"><a href="https://wiki.opendaylight.org/index.php?title=OpenDaylight_Virtual_Tenant_Network_(VTN):How_to_Configure_Service_Function_Chaining_using_VTN&amp;printable=yes" rel="alternate" title="Printable version of this page [ctrl-option-p]" accesskey="p">Printable version</a></li><li class="divider"></li><li id="t-specialpages"><a href="https://wiki.opendaylight.org/view/Special:SpecialPages" title="A list of all special pages [ctrl-option-q]" accesskey="q">Special pages</a></li><li id="t-recentchangeslinked"><a href="https://wiki.opendaylight.org/view/Special:RecentChangesLinked/OpenDaylight_Virtual_Tenant_Network_(VTN):How_to_Configure_Service_Function_Chaining_using_VTN" title="Recent changes in pages linked from this page [ctrl-option-k]" accesskey="k">Related changes</a></li><li class="divider"></li><li id="t-whatlinkshere"><a href="https://wiki.opendaylight.org/view/Special:WhatLinksHere/OpenDaylight_Virtual_Tenant_Network_(VTN):How_to_Configure_Service_Function_Chaining_using_VTN" title="A list of all wiki pages that link here [ctrl-option-j]" accesskey="j">What links here</a></li>              </ul>

            </li>

          </ul>
          
<!-- /0 -->
      </div>

      <div class="pull-right">
        
<!-- 0 -->
            <form class="navbar-search" action="https://wiki.opendaylight.org/index.php" id="searchform">
              <input id="searchInput" class="search-query" type="search" accesskey="f" title="Special:Search" placeholder="Search" name="search" value="" autocomplete="off">
              <input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton btn hidden">            </form>

          
<!-- /0 -->

<!-- 0 -->
          <ul class="nav pull-right" role="navigation">
            <li class="dropdown" id="p-notifications">
                        </li>
                        <li class="dropdown" id="p-createaccount">
                          </li>
            <li class="dropdown" id="p-login">
            </li><li id="pt-login"><a href="https://wiki.opendaylight.org/index.php?title=Special:UserLogin&amp;returnto=OpenDaylight+Virtual+Tenant+Network+%28VTN%29%3AHow+to+Configure+Service+Function+Chaining+using+VTN" title="You are encouraged to log in; however, it is not mandatory [ctrl-option-o]" accesskey="o">Log in</a></li>            
                                  </ul>
          
<!-- /0 -->
      </div>

    </div>
  </div>
</div>

    <div id="mw-page-base" class="noprint"></div>
    <div id="mw-head-base" class="noprint"></div>

    <!-- Header -->
    <div id="page-header" class="container signed-out">
      <section class="span12">

      
      <ul class="navigation nav nav-pills pull-right searchform-disabled">

      
<!-- 0 -->

                <li class=""><a href="https://www.opendaylight.org/" id="n-OpenDaylight.org" rel="nofollow">OpenDaylight.org</a></li>
                <li class=""><a href="https://www.opendaylight.org/downloads" id="n-Get-Software" rel="nofollow">Get Software</a></li>
                <li class=""><a href="https://wiki.opendaylight.org/view/Docucentral" id="n-Documentation">Documentation</a></li>
                <li class=""><a href="https://wiki.opendaylight.org/view/User-stories" id="n-User-Stories">User Stories</a></li>
                <li class=""><a href="https://wiki.opendaylight.org/view/Community" id="n-Community">Community</a></li>
                <li class=""><a href="https://www.opendaylight.org/news/blogs" id="n-Blog" rel="nofollow">Blog</a></li>
                <li class=""><a href="https://ask.opendaylight.org/" id="n-Q.26A-Form" rel="nofollow">Q&amp;A Form</a></li>
                <li class=""><a href="https://wiki.opendaylight.org/view/Main_Page" id="n-Wiki">Wiki</a></li>
<!-- /LANGUAGES -->

      </ul>

    </section>
    </div>

    
    
    <!-- content -->
    <section id="content" class="mw-body container 0">
      <div id="top"></div>
      <div id="mw-js-message" style="display:none;"></div>
            <!-- bodyContent -->
      <div id="bodyContent">
                        <!-- jumpto -->
        <div id="jump-to-nav" class="mw-jump">
          Jump to: <a href="https://wiki.opendaylight.org/view/OpenDaylight_Virtual_Tenant_Network_(VTN):How_to_Configure_Service_Function_Chaining_using_VTN#mw-head">navigation</a>,
          <a href="https://wiki.opendaylight.org/view/OpenDaylight_Virtual_Tenant_Network_(VTN):How_to_Configure_Service_Function_Chaining_using_VTN#p-search">search</a>
        </div>
        <!-- /jumpto -->
        

        <!-- innerbodycontent -->
                  <div id="innerbodycontent" class="row nolayout"><div class="offset1 span10">
            <h1 id="firstHeading" class="firstHeading page-header">
              <span dir="auto">OpenDaylight Virtual Tenant Network (VTN):How to Configure Service Function Chaining using VTN</span>
            </h1>
            <!-- subtitle -->
            <div id="contentSub"></div>
            <!-- /subtitle -->
                        <div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div id="toc" class="toc tochidden"><div id="toctitle"><h2>Contents</h2><span class="toctoggle">&nbsp;[<a href="https://wiki.opendaylight.org/view/OpenDaylight_Virtual_Tenant_Network_(VTN):How_to_Configure_Service_Function_Chaining_using_VTN#" class="internal" id="togglelink">show</a>]&nbsp;</span></div>
<ul style="display: none;">
<li class="toclevel-1 tocsection-1"><a href="https://wiki.opendaylight.org/view/OpenDaylight_Virtual_Tenant_Network_(VTN):How_to_Configure_Service_Function_Chaining_using_VTN#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="https://wiki.opendaylight.org/view/OpenDaylight_Virtual_Tenant_Network_(VTN):How_to_Configure_Service_Function_Chaining_using_VTN#Requirements"><span class="tocnumber">2</span> <span class="toctext">Requirements</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="https://wiki.opendaylight.org/view/OpenDaylight_Virtual_Tenant_Network_(VTN):How_to_Configure_Service_Function_Chaining_using_VTN#Mininet_Script"><span class="tocnumber">2.1</span> <span class="toctext">Mininet Script</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4"><a href="https://wiki.opendaylight.org/view/OpenDaylight_Virtual_Tenant_Network_(VTN):How_to_Configure_Service_Function_Chaining_using_VTN#Configurations"><span class="tocnumber">3</span> <span class="toctext">Configurations</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="https://wiki.opendaylight.org/view/OpenDaylight_Virtual_Tenant_Network_(VTN):How_to_Configure_Service_Function_Chaining_using_VTN#Mininet"><span class="tocnumber">3.1</span> <span class="toctext">Mininet</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="https://wiki.opendaylight.org/view/OpenDaylight_Virtual_Tenant_Network_(VTN):How_to_Configure_Service_Function_Chaining_using_VTN#Controller"><span class="tocnumber">3.2</span> <span class="toctext">Controller</span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="https://wiki.opendaylight.org/view/OpenDaylight_Virtual_Tenant_Network_(VTN):How_to_Configure_Service_Function_Chaining_using_VTN#Multi-Tenancy"><span class="tocnumber">3.2.1</span> <span class="toctext">Multi-Tenancy</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="https://wiki.opendaylight.org/view/OpenDaylight_Virtual_Tenant_Network_(VTN):How_to_Configure_Service_Function_Chaining_using_VTN#Traffic_filtering"><span class="tocnumber">3.2.2</span> <span class="toctext">Traffic filtering</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="https://wiki.opendaylight.org/view/OpenDaylight_Virtual_Tenant_Network_(VTN):How_to_Configure_Service_Function_Chaining_using_VTN#Service_Chaining"><span class="tocnumber">3.2.3</span> <span class="toctext">Service Chaining</span></a>
<ul>
<li class="toclevel-4 tocsection-10"><a href="https://wiki.opendaylight.org/view/OpenDaylight_Virtual_Tenant_Network_(VTN):How_to_Configure_Service_Function_Chaining_using_VTN#With_one_service"><span class="tocnumber">3.2.3.1</span> <span class="toctext">With one service</span></a>
<ul>
<li class="toclevel-5 tocsection-11"><a href="https://wiki.opendaylight.org/view/OpenDaylight_Virtual_Tenant_Network_(VTN):How_to_Configure_Service_Function_Chaining_using_VTN#Verification"><span class="tocnumber">3.2.3.1.1</span> <span class="toctext">Verification</span></a></li>
</ul>
</li>
<li class="toclevel-4 tocsection-12"><a href="https://wiki.opendaylight.org/view/OpenDaylight_Virtual_Tenant_Network_(VTN):How_to_Configure_Service_Function_Chaining_using_VTN#With_two_services"><span class="tocnumber">3.2.3.2</span> <span class="toctext">With two services</span></a>
<ul>
<li class="toclevel-5 tocsection-13"><a href="https://wiki.opendaylight.org/view/OpenDaylight_Virtual_Tenant_Network_(VTN):How_to_Configure_Service_Function_Chaining_using_VTN#Verification_2"><span class="tocnumber">3.2.3.2.1</span> <span class="toctext">Verification</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<h1><span class="mw-headline" id="Overview">Overview</span></h1>
<p>This example explains how to configure VTN Manager for Service Chaining.
</p>
<div class="center"><div class="floatnone"><a href="https://wiki.opendaylight.org/view/File:ServiceChainingWithOneService.png" class="image"><img alt="ServiceChainingWithOneService.png" src="./SFC_files/555px-ServiceChainingWithOneService.png" width="555" height="280" srcset="/images/0/01/ServiceChainingWithOneService.png 1.5x, /images/0/01/ServiceChainingWithOneService.png 2x"></a></div></div>
<h1><span class="mw-headline" id="Requirements">Requirements</span></h1>
<ul>
<li> Please refer to the <a href="https://wiki.opendaylight.org/view/Release/Helium/VTN/Installation_Guide" title="Release/Helium/VTN/Installation Guide">Installation Pages</a> to run ODL with VTN Feature enabled.
</li>
<li> Please ensure Bridge-Utils package is installed in mininet environment before running the mininet script.
</li>
<li> To install Bridge-Utils package run sudo apt-get install bridge-utils (assuming Ubuntu is used to run mininet, If not then this is not required).
</li>
<li> Save the mininet script given below as topo_handson.py and run the mininet script  in the mininet environment where Mininet is installed.
</li>
</ul>
<h2><span class="mw-headline" id="Mininet_Script">Mininet Script</span></h2>
<ul>
<li> <a href="https://wiki.opendaylight.org/view/OpenDaylight_Virtual_Tenant_Network_(VTN):Scripts:Mininet#Network_with_Multiple_Hosts_for_Service_Function_Chain" title="OpenDaylight Virtual Tenant Network (VTN):Scripts:Mininet">Script for emulating network with multiple hosts</a>
</li>
<li> Before executing the mininet script, please confirm Controller is up and running.
</li>
<li> Run the mininet script:
</li>
<li> Replace &lt;path&gt; and &lt;Controller IP&gt; based on your environment
</li>
</ul>
<pre>sudo mn --controller=remote,ip=&lt;Controller IP&gt; --custom &lt;path&gt;\topo_handson.py --topo mytopo2
</pre>
<h1><span class="mw-headline" id="Configurations">Configurations</span></h1>
<h2><span class="mw-headline" id="Mininet">Mininet</span></h2>
<p>Please follow the below steps to configure the network in mininet as below images:
</p>
<div class="center"><div class="floatnone"><a href="https://wiki.opendaylight.org/view/File:MininetConfiguration.png" class="image"><img alt="MininetConfiguration.png" src="./SFC_files/555px-MininetConfiguration.png" width="555" height="285" srcset="/images/7/71/MininetConfiguration.png 1.5x, /images/7/71/MininetConfiguration.png 2x"></a></div></div>
<ul>
<li><dl>
<dt> Install flow entries
</dt>
</dl>
</li>
</ul>
<p>In mininet environment, install the following flow entries to send PACKET_IN to the controller.
</p>
<pre>$ sudo ovs-ofctl add-flow s1 priority=0,actions=output:CONTROLLER
$ sudo ovs-ofctl add-flow s2 priority=0,actions=output:CONTROLLER
$ sudo ovs-ofctl add-flow s3 priority=0,actions=output:CONTROLLER
$ sudo ovs-ofctl add-flow s4 priority=0,actions=output:CONTROLLER
</pre>
<ul>
<li><dl>
<dt> Configure service nodes
</dt>
</dl>
</li>
</ul>
<p>Please execute the following commands in the mininet console.
</p>
<pre>mininet&gt; srvc1 ip addr del 10.0.0.6/8 dev srvc1-eth0
mininet&gt; srvc1 brctl addbr br0
mininet&gt; srvc1 brctl addif br0 srvc1-eth0
mininet&gt; srvc1 brctl addif br0 srvc1-eth1
mininet&gt; srvc1 ifconfig br0 up
mininet&gt; srvc1 tc qdisc add dev srvc1-eth1 root netem delay 200ms
mininet&gt; srvc2 ip addr del 10.0.0.7/8 dev srvc2-eth0
mininet&gt; srvc2 brctl addbr br0
mininet&gt; srvc2 brctl addif br0 srvc2-eth0
mininet&gt; srvc2 brctl addif br0 srvc2-eth1
mininet&gt; srvc2 ifconfig br0 up
mininet&gt; srvc2 tc qdisc add dev srvc2-eth1 root netem delay 300ms
</pre>
<h2><span class="mw-headline" id="Controller">Controller</span></h2>
<h3><span class="mw-headline" id="Multi-Tenancy">Multi-Tenancy</span></h3>
<p>Please execute the below commands to configure the network topology in the controller as below image:
</p>
<div class="center"><div class="floatnone"><a href="https://wiki.opendaylight.org/view/File:Tenant2.png" class="image"><img alt="Tenant2.png" src="./SFC_files/555px-Tenant2.png" width="555" height="258" srcset="/images/thumb/0/05/Tenant2.png/833px-Tenant2.png 1.5x, /images/0/05/Tenant2.png 2x"></a></div></div>
<ul>
<li><dl>
<dt> Create a VTN - Tenant2
</dt>
</dl>
</li>
</ul>
<table class="wikitable">

<tbody><tr>
<td>curl -v --user "admin":"admin" -H "Accept: application/json" -H "Content-type: application/json" -X POST <a rel="nofollow" class="external free" href="http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2">http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2</a> -d '{"description": "Virtual Network for Tenant2","idleTimeout": "0","hardTimeout": "0"}'
</td></tr></tbody></table>
<ul>
<li><dl>
<dt> Create a vBridge - Bridge1 on Tenant2
</dt>
</dl>
</li>
</ul>
<table class="wikitable">

<tbody><tr>
<td>curl -v --user "admin":"admin" -H "Accept: application/json" -H "Content-type: application/json" -X POST <a rel="nofollow" class="external free" href="http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vbridges/Bridge1">http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vbridges/Bridge1</a> -d '{"description": "Virtual Bridge 1","ageInterval": "600"}'
</td></tr></tbody></table>
<ul>
<li><dl>
<dt> Create a Interface - IF1 on Bridge1
</dt>
</dl>
</li>
</ul>
<table class="wikitable">

<tbody><tr>
<td>curl -v --user "admin":"admin" -H "Accept: application/json" -H "Content-type: application/json" -X POST <a rel="nofollow" class="external free" href="http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vbridges/Bridge1/interfaces/IF1">http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vbridges/Bridge1/interfaces/IF1</a> -d '{"description": "Description about IF-1","enabled": true}'
</td></tr></tbody></table>
<ul>
<li><dl>
<dt> Portmap - host12 and Bridge1
</dt>
</dl>
</li>
</ul>
<table class="wikitable">

<tbody><tr>
<td>curl -v --user "admin":"admin" -H "Accept: application/json" -H "Content-type: application/json" -X PUT <a rel="nofollow" class="external free" href="http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vbridges/Bridge1/interfaces/IF1/portmap">http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vbridges/Bridge1/interfaces/IF1/portmap</a> -d '{"vlan": 0,"node": {"type": "OF","id": "00:00:00:00:00:00:00:01"},"port": {"type": "OF","id": "2","name": "s1-eth2"}}'
</td></tr></tbody></table>
<ul>
<li><dl>
<dt> Create a Interface - IF2 on Bridge1
</dt>
</dl>
</li>
</ul>
<table class="wikitable">

<tbody><tr>
<td>curl -v --user "admin":"admin" -H "Accept: application/json" -H "Content-type: application/json" -X POST <a rel="nofollow" class="external free" href="http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vbridges/Bridge1/interfaces/IF2">http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vbridges/Bridge1/interfaces/IF2</a> -d '{"description": "Description about IF-2","enabled": true}'
</td></tr></tbody></table>
<ul>
<li><dl>
<dt> Portmapping between host22 and Bridge1
</dt>
</dl>
</li>
</ul>
<table class="wikitable">

<tbody><tr>
<td>curl -v --user "admin":"admin" -H "Accept: application/json" -H "Content-type: application/json" -X PUT <a rel="nofollow" class="external free" href="http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vbridges/Bridge1/interfaces/IF2/portmap">http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vbridges/Bridge1/interfaces/IF2/portmap</a> -d '{"vlan": 0,"node": {"type": "OF","id": "00:00:00:00:00:00:00:02"},"port": {"type": "OF","id": "2","name": "s2-eth2"}}'
</td></tr></tbody></table>
<ul>
<li><dl>
<dt> Create a Interface - IF3 on Bridge1
</dt>
</dl>
</li>
</ul>
<table class="wikitable">

<tbody><tr>
<td>curl -v --user "admin":"admin" -H "Accept: application/json" -H "Content-type: application/json" -X POST <a rel="nofollow" class="external free" href="http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vbridges/Bridge1/interfaces/IF3">http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vbridges/Bridge1/interfaces/IF3</a> -d '{"description": "Description about IF-3","enabled": true}'
</td></tr></tbody></table>
<ul>
<li><dl>
<dt> Portmapping between host23 and Bridge1
</dt>
</dl>
</li>
</ul>
<table class="wikitable">

<tbody><tr>
<td>curl -v --user "admin":"admin" -H "Accept: application/json" -H "Content-type: application/json" -X PUT <a rel="nofollow" class="external free" href="http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vbridges/Bridge1/interfaces/IF3/portmap">http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vbridges/Bridge1/interfaces/IF3/portmap</a> -d '{"vlan": 0,"node": {"type": "OF","id": "00:00:00:00:00:00:00:02"},"port": {"type": "OF","id": "3","name": "s2-eth3"}}'
</td></tr></tbody></table>
<h3><span class="mw-headline" id="Traffic_filtering">Traffic filtering</span></h3>
<ul>
<li><dl>
<dt> Flow condition - dst=host22
</dt>
</dl>
</li>
</ul>
<table class="wikitable">

<tbody><tr>
<td>curl -v --user "admin":"admin" -H "Accept: application/json" -H "Content-type: application/json" -X PUT <a rel="nofollow" class="external free" href="http://localhost:8080/controller/nb/v2/vtn/default/flowconditions/cond_1">http://localhost:8080/controller/nb/v2/vtn/default/flowconditions/cond_1</a> -d '{"name": "cond_1","match": [{"index": 1,"inetMatch": {"inet4": {"dst": "10.0.0.4"}}}]}'
</td></tr></tbody></table>
<ul>
<li><dl>
<dt> Flow filter - drop
</dt>
</dl>
</li>
</ul>
<table class="wikitable">

<tbody><tr>
<td>curl -v --user "admin":"admin" -H "Accept: application/json" -H "Content-type: application/json" -X PUT <a rel="nofollow" class="external free" href="http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vbridges/Bridge1/interfaces/IF1/flowfilters/in/10">http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vbridges/Bridge1/interfaces/IF1/flowfilters/in/10</a> -d '{"index": 10,"condition": "cond_1","filterType": {"drop": {}}}'
</td></tr></tbody></table>
<h3><span class="mw-headline" id="Service_Chaining">Service Chaining</span></h3>
<h4><span class="mw-headline" id="With_one_service">With one service</span></h4>
<p>Please execute the below commands to configure the network topology which sends some specific traffic via a single service(External device) in the controller as below image:
</p>
<div class="center"><div class="floatnone"><a href="https://wiki.opendaylight.org/view/File:ServiceChainingWithOneServiceLLD.png" class="image"><img alt="ServiceChainingWithOneServiceLLD.png" src="./SFC_files/555px-ServiceChainingWithOneServiceLLD.png" width="555" height="244" srcset="/images/f/f4/ServiceChainingWithOneServiceLLD.png 1.5x, /images/f/f4/ServiceChainingWithOneServiceLLD.png 2x"></a></div></div>
<ul>
<li><dl>
<dt> Create a vTerminal - vt_srvc1_1
</dt>
</dl>
</li>
</ul>
<table class="wikitable">

<tbody><tr>
<td>curl -v --user "admin":"admin" -H "Accept: application/json" -H "Content-type: application/json" -X POST <a rel="nofollow" class="external free" href="http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vterminals/vt_srvc1_1">http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vterminals/vt_srvc1_1</a> -d '{"description": "vterminal for service1"}'
</td></tr></tbody></table>
<ul>
<li><dl>
<dt> Create a vTerminal interface - IF
</dt>
</dl>
</li>
</ul>
<table class="wikitable">

<tbody><tr>
<td>curl -v --user "admin":"admin" -H "Accept: application/json" -H "Content-type: application/json" -X POST <a rel="nofollow" class="external free" href="http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vterminals/vt_srvc1_1/interfaces/IF">http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vterminals/vt_srvc1_1/interfaces/IF</a> -d '{"description": "Description about IF-1","enabled": true}'
</td></tr></tbody></table>
<ul>
<li><dl>
<dt> Portmap
</dt>
</dl>
</li>
</ul>
<table class="wikitable">

<tbody><tr>
<td>curl -v --user "admin":"admin" -H "Accept: application/json" -H "Content-type: application/json" -X PUT <a rel="nofollow" class="external free" href="http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vterminals/vt_srvc1_1/interfaces/IF/portmap">http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vterminals/vt_srvc1_1/interfaces/IF/portmap</a> -d '{"vlan": 0,"node": {"type": "OF","id": "00:00:00:00:00:00:00:03"},"port": {"type": "OF","id": "3","name": "s3-eth3"}}'
</td></tr></tbody></table>
<ul>
<li><dl>
<dt> Create a vTerminal - vt_srvc1_2
</dt>
</dl>
</li>
</ul>
<table class="wikitable">

<tbody><tr>
<td>curl -v --user "admin":"admin" -H "Accept: application/json" -H "Content-type: application/json" -X POST <a rel="nofollow" class="external free" href="http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vterminals/vt_srvc1_2">http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vterminals/vt_srvc1_2</a> -d '{"description": "vterminal for service1_2"}'
</td></tr></tbody></table>
<ul>
<li><dl>
<dt> Create a vTerminal interface - IF
</dt>
</dl>
</li>
</ul>
<table class="wikitable">

<tbody><tr>
<td>curl -v --user "admin":"admin" -H "Accept: application/json" -H "Content-type: application/json" -X POST <a rel="nofollow" class="external free" href="http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vterminals/vt_srvc1_2/interfaces/IF">http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vterminals/vt_srvc1_2/interfaces/IF</a> -d '{"description": "Description about IF-1_2","enabled": true}'
</td></tr></tbody></table>
<ul>
<li><dl>
<dt> Portmap
</dt>
</dl>
</li>
</ul>
<table class="wikitable">

<tbody><tr>
<td>curl -v --user "admin":"admin" -H "Accept: application/json" -H "Content-type: application/json" -X PUT <a rel="nofollow" class="external free" href="http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vterminals/vt_srvc1_2/interfaces/IF/portmap">http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vterminals/vt_srvc1_2/interfaces/IF/portmap</a> -d '{"vlan": 0,"node": {"type": "OF","id": "00:00:00:00:00:00:00:04"},"port": {"type": "OF","id": "3","name": "s4-eth3"}}'
</td></tr></tbody></table>
<ul>
<li><dl>
<dt> Flow condition - dst=host22
</dt>
</dl>
</li>
</ul>
<table class="wikitable">

<tbody><tr>
<td>curl -v --user "admin":"admin" -H "Accept: application/json" -H "Content-type: application/json" -X PUT <a rel="nofollow" class="external free" href="http://localhost:8080/controller/nb/v2/vtn/default/flowconditions/cond_1">http://localhost:8080/controller/nb/v2/vtn/default/flowconditions/cond_1</a> -d '{"name": "cond_1","match": [{"index": 1,"inetMatch": {"inet4": {"dst": "10.0.0.4"}}}]}'
</td></tr></tbody></table>
<ul>
<li><dl>
<dt> Flow condition - match any
</dt>
</dl>
</li>
</ul>
<table class="wikitable">

<tbody><tr>
<td>curl -v --user "admin":"admin" -H "Accept: application/json" -H "Content-type: application/json" -X PUT <a rel="nofollow" class="external free" href="http://localhost:8080/controller/nb/v2/vtn/default/flowconditions/cond_any">http://localhost:8080/controller/nb/v2/vtn/default/flowconditions/cond_any</a> -d '{"name": "cond_any","match": [{"index": 1}]}'
</td></tr></tbody></table>
<ul>
<li><dl>
<dt> Flow filter - vt_srvc1_2 to Bridge1-IF2
</dt>
</dl>
</li>
</ul>
<table class="wikitable">

<tbody><tr>
<td>curl -v --user "admin":"admin" -H "Accept: application/json" -H "Content-type: application/json" -X PUT <a rel="nofollow" class="external free" href="http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vterminals/vt_srvc1_2/interfaces/IF/flowfilters/in/10">http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vterminals/vt_srvc1_2/interfaces/IF/flowfilters/in/10</a> -d '{"index": 10,"condition": "cond_any","filterType": {"redirect": {"destination": {"bridge": "Bridge1","interface": "IF2"},"output": true}}}'
</td></tr></tbody></table>
<ul>
<li><dl>
<dt> Flow filter - Bridge1-IF1 to vt_srvc1_1
</dt>
</dl>
</li>
</ul>
<table class="wikitable">

<tbody><tr>
<td>curl -v --user "admin":"admin" -H "Accept: application/json" -H "Content-type: application/json" -X PUT <a rel="nofollow" class="external free" href="http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vbridges/Bridge1/interfaces/IF1/flowfilters/in/10">http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vbridges/Bridge1/interfaces/IF1/flowfilters/in/10</a> -d '{"index": 10,"condition": "cond_1","filterType": {"redirect": {"destination": {"terminal": "vt_srvc1_1","interface": "IF"},"output": true}}}'
</td></tr></tbody></table>
<h5><span class="mw-headline" id="Verification">Verification</span></h5>
<div class="center"><div class="floatnone"><a href="https://wiki.opendaylight.org/view/File:ServiceChainingWithOneService.png" class="image"><img alt="ServiceChainingWithOneService.png" src="./SFC_files/555px-ServiceChainingWithOneService.png" width="555" height="280" srcset="/images/0/01/ServiceChainingWithOneService.png 1.5x, /images/0/01/ServiceChainingWithOneService.png 2x"></a></div></div>
<p>Ping host12 to host22 to view the host recheability, a delay of 200ms will be taken to reach host22 as below.
</p>
<table class="wikitable">

<tbody><tr>
<td>mininet&gt; h12 ping h22
<pre>PING 10.0.0.4 (10.0.0.4) 56(84) bytes of data.
64 bytes from 10.0.0.4: icmp_seq=35 ttl=64 time=209 ms
64 bytes from 10.0.0.4: icmp_seq=36 ttl=64 time=201 ms
64 bytes from 10.0.0.4: icmp_seq=37 ttl=64 time=200 ms
64 bytes from 10.0.0.4: icmp_seq=38 ttl=64 time=200 ms
</pre>
</td></tr></tbody></table>
<h4><span class="mw-headline" id="With_two_services">With two services</span></h4>
<p>Please execute the below commands to configure the network topology which sends some specific traffic via two services(External device) in the controller as below image:
</p>
<div class="center"><div class="floatnone"><a href="https://wiki.opendaylight.org/view/File:ServiceChainingWithTwoServicesLLD.png" class="image"><img alt="ServiceChainingWithTwoServicesLLD.png" src="./SFC_files/555px-ServiceChainingWithTwoServicesLLD.png" width="555" height="213" srcset="/images/thumb/d/d4/ServiceChainingWithTwoServicesLLD.png/833px-ServiceChainingWithTwoServicesLLD.png 1.5x, /images/d/d4/ServiceChainingWithTwoServicesLLD.png 2x"></a></div></div>
<ul>
<li><dl>
<dt> Create a vTerminal - vt_srvc2_1
</dt>
</dl>
</li>
</ul>
<table class="wikitable">

<tbody><tr>
<td>curl -v --user "admin":"admin" -H "Accept: application/json" -H "Content-type: application/json" -X POST <a rel="nofollow" class="external free" href="http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vterminals/vt_srvc2_1">http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vterminals/vt_srvc2_1</a> -d '{"description": "vterminal for service2"}'
</td></tr></tbody></table>
<ul>
<li><dl>
<dt> Create a vTerminal interface - IF
</dt>
</dl>
</li>
</ul>
<table class="wikitable">

<tbody><tr>
<td>curl -v --user "admin":"admin" -H "Accept: application/json" -H "Content-type: application/json" -X POST <a rel="nofollow" class="external free" href="http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vterminals/vt_srvc2_1/interfaces/IF">http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vterminals/vt_srvc2_1/interfaces/IF</a> -d '{"description": "Description about IF-2","enabled": true}'
</td></tr></tbody></table>
<ul>
<li><dl>
<dt> Portmap
</dt>
</dl>
</li>
</ul>
<table class="wikitable">

<tbody><tr>
<td>curl -v --user "admin":"admin" -H "Accept: application/json" -H "Content-type: application/json" -X PUT <a rel="nofollow" class="external free" href="http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vterminals/vt_srvc2_1/interfaces/IF/portmap">http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vterminals/vt_srvc2_1/interfaces/IF/portmap</a> -d '{"vlan": 0,"node": {"type": "OF","id": "00:00:00:00:00:00:00:03"},"port": {"type": "OF","id": "4","name": "s3-eth4"}}'
</td></tr></tbody></table>
<ul>
<li><dl>
<dt> Create a vTerminal - vt_srvc1_2
</dt>
</dl>
</li>
</ul>
<table class="wikitable">

<tbody><tr>
<td>curl -v --user "admin":"admin" -H "Accept: application/json" -H "Content-type: application/json" -X POST <a rel="nofollow" class="external free" href="http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vterminals/vt_srvc2_2">http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vterminals/vt_srvc2_2</a> -d '{"description": "vterminal for service2_2"}'
</td></tr></tbody></table>
<ul>
<li><dl>
<dt> Create a vTerminal interface - IF
</dt>
</dl>
</li>
</ul>
<table class="wikitable">

<tbody><tr>
<td>curl -v --user "admin":"admin" -H "Accept: application/json" -H "Content-type: application/json" -X POST <a rel="nofollow" class="external free" href="http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vterminals/vt_srvc2_2/interfaces/IF">http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vterminals/vt_srvc2_2/interfaces/IF</a> -d '{"description": "Description about IF-2_2","enabled": true}'
</td></tr></tbody></table>
<ul>
<li><dl>
<dt> Portmap
</dt>
</dl>
</li>
</ul>
<table class="wikitable">

<tbody><tr>
<td>curl -v --user "admin":"admin" -H "Accept: application/json" -H "Content-type: application/json" -X PUT <a rel="nofollow" class="external free" href="http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vterminals/vt_srvc2_2/interfaces/IF/portmap">http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vterminals/vt_srvc2_2/interfaces/IF/portmap</a> -d '{"vlan": 0,"node": {"type": "OF","id": "00:00:00:00:00:00:00:04"},"port": {"type": "OF","id": "4","name": "s4-eth4"}}'
</td></tr></tbody></table>
<ul>
<li><dl>
<dt> Flow filter - vt_srvc2_2 to Bridge1-IF2
</dt>
</dl>
</li>
</ul>
<table class="wikitable">

<tbody><tr>
<td>curl -v --user "admin":"admin" -H "Accept: application/json" -H "Content-type: application/json" -X PUT <a rel="nofollow" class="external free" href="http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vterminals/vt_srvc2_2/interfaces/IF/flowfilters/in/10">http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vterminals/vt_srvc2_2/interfaces/IF/flowfilters/in/10</a> -d '{"index": 10,"condition": "cond_any","filterType": {"redirect": {"destination": {"bridge": "Bridge1","interface": "IF2"},"output": true}}}'
</td></tr></tbody></table>
<ul>
<li><dl>
<dt> Flow filter - vt_srvc1_2 to vt_srvc2_1
</dt>
</dl>
</li>
</ul>
<table class="wikitable">

<tbody><tr>
<td>curl -v --user "admin":"admin" -H "Accept: application/json" -H "Content-type: application/json" -X PUT <a rel="nofollow" class="external free" href="http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vterminals/vt_srvc1_2/interfaces/IF/flowfilters/in/10">http://localhost:8080/controller/nb/v2/vtn/default/vtns/Tenant2/vterminals/vt_srvc1_2/interfaces/IF/flowfilters/in/10</a> -d '{"index": 10,"condition": "cond_any","filterType": {"redirect": {"destination": {"terminal": "vt_srvc2_1","interface": "IF"},"output": true}}}'
</td></tr></tbody></table>
<h5><span class="mw-headline" id="Verification_2">Verification</span></h5>
<div class="center"><div class="floatnone"><a href="https://wiki.opendaylight.org/view/File:ServiceChainingWithTwoServices.png" class="image"><img alt="ServiceChainingWithTwoServices.png" src="./SFC_files/555px-ServiceChainingWithTwoServices.png" width="555" height="257" srcset="/images/9/9a/ServiceChainingWithTwoServices.png 1.5x, /images/9/9a/ServiceChainingWithTwoServices.png 2x"></a></div></div>
<p>Ping host12 to host22 to view the host recheability, a delay of 500ms will be taken to reach host22 as below.
</p>
<table class="wikitable">

<tbody><tr>
<td>mininet&gt; h12 ping h22
<pre>PING 10.0.0.4 (10.0.0.4) 56(84) bytes of data.
64 bytes from 10.0.0.4: icmp_seq=1 ttl=64 time=512 ms
64 bytes from 10.0.0.4: icmp_seq=2 ttl=64 time=501 ms
64 bytes from 10.0.0.4: icmp_seq=3 ttl=64 time=500 ms
64 bytes from 10.0.0.4: icmp_seq=4 ttl=64 time=500 ms
</pre>
</td></tr></tbody></table>

<!-- 
NewPP limit report
CPU time usage: 0.073 seconds
Real time usage: 0.088 seconds
Preprocessor visited node count: 50/1000000
Preprocessor generated node count: 56/1000000
Postâ€expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key daylight_mwiki:pcache:idhash:2668-0!*!0!!en!2!* and timestamp 20160223122737 and revision id 32112
 -->
</div>          </div></div>
                <!-- /innerbodycontent -->

                <!-- printfooter -->
        <div class="printfooter">
        Retrieved from "<a href="https://wiki.opendaylight.org/index.php?title=OpenDaylight_Virtual_Tenant_Network_(VTN):How_to_Configure_Service_Function_Chaining_using_VTN&amp;oldid=32112">https://wiki.opendaylight.org/index.php?title=OpenDaylight_Virtual_Tenant_Network_(VTN):How_to_Configure_Service_Function_Chaining_using_VTN&amp;oldid=32112</a>"        </div>
        <!-- /printfooter -->
                        <!-- catlinks -->
        <div id="catlinks" class="catlinks"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="https://wiki.opendaylight.org/view/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="https://wiki.opendaylight.org/view/Category:OpenDaylight_Virtual_Tenant_Network" title="Category:OpenDaylight Virtual Tenant Network">OpenDaylight Virtual Tenant Network</a></li></ul></div></div>        <!-- /catlinks -->
                        <div class="visualClear"></div>
        <!-- debughtml -->
                <!-- /debughtml -->
      </div>
      <!-- /bodyContent -->
    </section>
    <!-- /content -->

      <!-- footer -->

      
      <div id="footer" class="footer container">
        <div class="row">
    
            <ul id="footer-places">
                              <li id="footer-places-privacy"><a href="https://wiki.opendaylight.org/view/OpenDaylight_Project:Privacy_policy" title="OpenDaylight Project:Privacy policy">Privacy policy</a></li>
                              <li id="footer-places-about"><a href="https://wiki.opendaylight.org/view/OpenDaylight_Project:About" title="OpenDaylight Project:About">About OpenDaylight Project</a></li>
                              <li id="footer-places-disclaimer"><a href="https://wiki.opendaylight.org/view/OpenDaylight_Project:General_disclaimer" title="OpenDaylight Project:General disclaimer">Disclaimers</a></li>
                                        </ul>
                                <ul id="footer-icons" class="noprint">
                  <li id="footer-poweredbyico">
                    <a href="https://www.mediawiki.org/"><img src="./SFC_files/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31"></a>
                  </li>
                </ul>
                  </div>
      </div>
      <!-- /footer -->


    <script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"skins.strapping":"loading","site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script src="./SFC_files/load(6).php"></script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script src="./SFC_files/load(7).php"></script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":164});
}</script>
  

<div class="suggestions" style="display: none; font-size: 13px;"><div class="suggestions-results"></div><div class="suggestions-special"></div></div></body></html>